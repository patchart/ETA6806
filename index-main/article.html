<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<script src="js/jquery-3.1.1.min.js"></script>
	<script>
	function afficher() {
				var url, code;
				url = window.location.href;
				code = url.substr(url.length - 8);

	// on envoie la requête XML
	var xhr = new XMLHttpRequest();
	xhr.onload = function(){
		if (xhr.status === 200) {
			var xmlDoc = xhr.responseXML;
			var donnees = xmlDoc.getElementsByTagName("article");


			// TABLEAU
			// on fait les variables de base pour afficher les tableaux
			var affichage, button, table, thead, tbody, p;
			
			// on fait l'espace d'affichage
			affichage = document.getElementsByTagName("article");
			affichage.innerHTML = "";
			
			// on prépare la structure du tableau
			table = document.createElement("div");
			affichage.appendChild(table);
			

			// CORPS DU TABLEAU
			// on calcul le nombre de données liées
			for (var i = 0; i < donnees.length; i++) {

				// on fait une condition pour que les données correspondent au numéro de dossier sélectionné, c-à-d à l'indice
				if (code == donnees[i].getAttribute("no")) {


					// on récupère les données dans les attributs et éléments
					var attr1, attr2, elem1, elem2, elem3;

					// élément 1
					elem1 = document.createElement("p");
					elem1.appendChild(document.createTextNode(getNodeValue(donnees[i], "title")));
					table.appendChild(elem1);
				}
			}


			// REQUÊTE XML
			// on ajoute le contenu du document
			function getNodeValue(obj, tag) {
				return obj.getElementsByTagName(tag)[0].firstChild.nodeValue;
			}
		}
	};
	// on charge le contenu du document
	xhr.open("GET", "articles.xml", true);
	xhr.send(null);
}
		</script>
		<link rel="icon" href="../medias/icon.jpg"/>
		<link rel="stylesheet" href="../styles/article.css"/>
	</head>
	<body onload="afficher()">
		<aside>
			<p><a href=".">en</a> &#8212; <a href="article_fr.html">fr</a></p>
		</aside>
		<article id="affichage">
		</article>
		<nav>
			<button onClick="window.open('https://www.alltrails.com/fr/explore/map/monts-stoke-cacbf64')">custom map</button><br/><button onClick="location.href='https://ofstoriesandtrees.github.io/index/main.html'">home</button>
		</nav>
	</body>
</html>
