<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<script src="js/jquery-3.1.1.min.js"></script>
	<script>
	function afficher() {
				var url, code;
				url = window.location.href;
				code = url.substr(url.length - 8);

	// on envoie la requête XML
	var xhr = new XMLHttpRequest();
	xhr.onload = function(){
		if (xhr.status === 200) {
			var xmlDoc = xhr.responseXML;
			var data = xmlDoc.getElementsByTagName("article");

			var article = document.getElementById("article");
			article.innerHTML = "";
			

			// CORPS DU TABLEAU
			// on calcul le nombre de données liées
			for (var i = 0; i < data.length; i++) {

				// on fait une condition pour que les données correspondent au numéro de dossier sélectionné, c-à-d à l'indice
				if (code == data[i].getAttribute("no")) {


					// on récupère les données dans les attributs et éléments
					var title;

					// élément 1
					title = document.createElement("h1");
					title.appendChild(document.createTextNode(getNodeValue(data[i], "title")));
					article.appendChild(title);
				}
			}


			// REQUÊTE XML
			// on ajoute le contenu du document
			function getNodeValue(x, y) {
				return x.getElementsByTagName(y)[0].firstChild.nodeValue;
			}
		}
	};
	// on charge le contenu du document
	xhr.open("GET", "articles.xml", true);
	xhr.send(null);
}
		</script>
		<link rel="icon" href="../medias/icon.jpg"/>
		<link rel="stylesheet" href="../styles/article.css"/>
	</head>
	<body onload="afficher()">
		<aside>
			<p><a href=".">en</a> &#8212; <a href="article_fr.html">fr</a></p>
		</aside>
		<div id="article">
		</div>
		<nav>
			<button onClick="window.open('https://www.alltrails.com/fr/explore/map/monts-stoke-cacbf64')">custom map</button><br/><button onClick="location.href='https://ofstoriesandtrees.github.io/index/main.html'">home</button>
		</nav>
	</body>
</html>
